/* docs/.vitepress/theme/custom.css */

/* ================================ */
/* カスタムスタイル設定              */
/* ================================ */

:root {
  --vp-c-brand: #646cff;
  --vp-c-brand-light: #747bff;
}

.vp-doc p {
  line-height: 1.8;
}

.dark .page-info {
  background-color: var(--vp-c-bg-soft);
}

img.responsive-img-medium {
  max-width: 50%;
  height: auto;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

img.responsive-img-small {
  max-width: 200px;
  height: auto;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

/* ================================ */
/* 見出しスタイル                    */
/* ================================ */

.vp-doc h1 {
  border-bottom: none !important;
  padding-bottom: 0.5rem !important;
  margin-bottom: 1.5rem !important;
  margin-top: 1rem !important;
}

.vp-doc h2 {
  border-top: 1px solid var(--vp-c-divider) !important;
  padding-top: 1.5rem !important;
  margin-top: 2rem !important;
}

/* ================================ */
/* ナビゲーション                    */
/* ================================ */

.VPNavBar,
.VPNav,
.VPNavBarTitle .title {
  border-bottom: 1px solid var(--vp-c-divider) !important;
  box-shadow: none !important;
}

.VPContent {
  border-top: none !important;
}

/* ================================ */
/* 基本設定                         */
/* ================================ */

html {
  overflow-y: scroll;
}

.VPDocFooter {
  margin-top: 16px !important;
}

.vp-doc.novels .VPDocAside {
  display: none !important;
}

.curtain {
  display: none !important;
}

/* ================================ */
/* 🔥 完全レイヤー化 - サイドバーを完全に浮かせる */
/* ================================ */

@media (min-width: 960px) {

  /* ハンバーガーメニューを表示 */
  .VPNavBarHamburger {
    display: flex !important;
  }

  /* 🔥 サイドバーを完全に浮かせる（レイヤー化） */
  .VPSidebar {
    position: fixed !important;
    top: var(--vp-nav-height) !important;
    right: 0 !important;
    left: auto !important;
    width: 280px !important;
    height: calc(100vh - var(--vp-nav-height)) !important;
    transform: translateX(100%) !important;
    transition: transform 0.3s ease !important;
    background: var(--vp-c-bg) !important;
    border-left: 1px solid var(--vp-c-divider) !important;
    border-right: none !important;
    box-shadow: -4px 0 8px rgba(0, 0, 0, 0.1) !important;
    z-index: 9999 !important;
    /* 🔥 超高いz-index */
    padding-top: 0 !important;
    pointer-events: auto !important;
  }

  .custom-sidebar-open .VPSidebar {
    transform: translateX(0) !important;
  }

  /* 🔥 下のレイアウトは完全にVitePressデフォルトのまま */
  /* 何も変更しない = サイドバーの影響を一切受けない */
  .VPContent,
  .VPContent.has-sidebar,
  .VPDoc,
  .VPDoc.has-aside,
  .VPDocAside {
    /* 一切のカスタマイズを削除！ */
    /* VitePressのデフォルトレイアウトをそのまま使う */
  }

  /* 🔥 サイドバーが開いても閉じても、下のレイアウトは一切変更しない */
  .custom-sidebar-open .VPContent,
  .custom-sidebar-open .VPContent.has-sidebar,
  .custom-sidebar-open .VPDoc,
  .custom-sidebar-open .VPDoc.has-aside,
  .custom-sidebar-open .VPDocAside {
    /* 何も指定しない = デフォルトのまま */
  }
}

/* ================================ */
/* サイドバー内部スタイル              */
/* ================================ */

.VPSidebar .VPSidebarNav {
  background: var(--vp-c-bg) !important;
  padding: 0.5rem 1rem !important;
  margin-top: 0 !important;
}

.VPSidebar .VPSidebarNav>*:first-child,
.VPSidebar .group:first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

.VPSidebar .group:first-child .title {
  margin-top: 0 !important;
  padding-top: 0.5rem !important;
}

.VPSidebar .title {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* H1の余白を調整 */
.vp-doc h1 {
  border-bottom: none !important;
  padding-bottom: 0.5rem !important;
  margin-bottom: 1rem !important;
  /* ← 下の余白を小さく */
  margin-top: 0.5rem !important;
  /* ← 上の余白を小さく */
}

/* 上の余白問題を即座に解決 */
@media (min-width: 960px) {

  /* VPDocの上パディングを削除 */
  .VPDoc,
  .VPDoc.has-sidebar,
  .VPDoc.has-aside {
    padding-top: 1rem !important;
    /* 48px → 16px に縮小 */
  }

/* H1とH2の余白バランスを完璧に調整 */
.vp-doc h1 {
  border-bottom: none !important;
  padding-bottom: 0.5rem !important;
  margin-bottom: 1.5rem !important;
  margin-top: 0.5rem !important;
  /* H1の上余白を縮小 */
}

.vp-doc h2 {
  border-top: 1px solid var(--vp-c-divider) !important;
  padding-top: 1rem !important;
  /* H2の上パディングを適度に */
  margin-top: 1.5rem !important;
  /* H2の上マージンを適度に */
}

/* VPDocコンテナの上パディングも調整 */
@media (min-width: 960px) {

  .VPDoc,
  .VPDoc.has-sidebar,
  .VPDoc.has-aside {
    padding-top: 0.5rem !important;
    /* さらに縮小 */
  }
}x → 16px */
}

/* 線の重複を解消 - シンプルにする */
.VPNavBar {
  border-bottom: 1px solid var(--vp-c-divider) !important;
  box-shadow: none !important;
}

/* 不要な線を削除 */
.VPNav {
  border-bottom: none !important;
  /* 重複を防ぐ */
}

.VPNavBarTitle .title {
  border-bottom: none !important;
}

/* ::after疑似要素も削除 */
.VPNavBar::after {
  display: none !important;
  /* 重複を防ぐ */
}
